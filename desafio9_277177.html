<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Joaquim Bertoldi Nucci - RA: 277177">

<title>Desafio 9</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="desafio9_277177_files/libs/clipboard/clipboard.min.js"></script>
<script src="desafio9_277177_files/libs/quarto-html/quarto.js"></script>
<script src="desafio9_277177_files/libs/quarto-html/popper.min.js"></script>
<script src="desafio9_277177_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="desafio9_277177_files/libs/quarto-html/anchor.min.js"></script>
<link href="desafio9_277177_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="desafio9_277177_files/libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="desafio9_277177_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="desafio9_277177_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="desafio9_277177_files/libs/bootstrap/bootstrap-1bc8a17f135ab3d594c857e9f48e611b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Desafio 9</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Joaquim Bertoldi Nucci - RA: 277177 </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Relatório gerado em:"</span>, <span class="fu">format</span>(<span class="fu">Sys.time</span>(), <span class="st">"%d/%m/%Y %H:%M:%S"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Relatório gerado em: 30/09/2025 11:55:53</code></pre>
</div>
</div>
<ol type="1">
<li>Crie um arquivo de banco de dados em SQLite chamado <code>voos.sqlite3</code>. (Dica: o comando <code>dbConnect()</code> se conecta num banco de dados se o arquivo apontado existir ou cria um novo, caso o arquivo não exista.)</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RSQLite)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>fname <span class="ot">=</span> <span class="fu">file.path</span>(<span class="st">"dados"</span>, <span class="st">"voos.sqlite3"</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>conn <span class="ot">=</span> <span class="fu">dbConnect</span>(<span class="fu">SQLite</span>(), fname)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li>Leia os arquivos <code>airlines.csv</code> e <code>airports.csv</code>. Deposite o conteúdo de cada um destes arquivos nas tabelas, respectivamente, <code>airlines</code> e <code>airports</code>. Utilize o comando <code>dbWriteTable()</code> para isso.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>path <span class="ot">=</span> <span class="st">"dados"</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>airlines <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="fu">file.path</span>(path, <span class="st">"airlines.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 14 Columns: 2
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (2): IATA_CODE, AIRLINE

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>airports <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="fu">file.path</span>(path, <span class="st">"airports.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 322 Columns: 7
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (5): IATA_CODE, AIRPORT, CITY, STATE, COUNTRY
dbl (2): LATITUDE, LONGITUDE

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dbWriteTable</span>(conn, <span class="st">"airlines"</span>, airlines, <span class="at">overwrite =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dbWriteTable</span>(conn, <span class="st">"airports"</span>, airports, <span class="at">overwrite =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="3" type="1">
<li>Crie uma função chamada <code>lerDados</code> contendo 2 argumentos, <code>input</code> e <code>pos</code>. A função deve apresentar ao usuário uma mensagem de progresso da leitura do arquivo <code>flights.csv</code> (utilize o comando <code>message()</code>), aos moldes do apresentado abaixo. A função deve salvar apenas os vôos que partiram ou chegaram aos seguintes aeroportos <code>BWI</code>, <code>MIA</code>, <code>SEA</code>, <code>SFO</code> e <code>JFK</code>, numa tabela chamada <code>flights</code>. Observe que a função não deve retornar nada para o usuário, deve apenas gravar a tabela obtida do chunk no banco de dados. (Dica: utilize o comando <code>dbWriteTable()</code> e estude como o argumento <code>append</code> deve ser utilizado para permitir que os <em>chunks</em> intermediários sejam adicionados ao fim da tabela.)</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>pos <span class="ot">=</span> <span class="dv">10000</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>lerDados <span class="ot">=</span> <span class="cf">function</span>(input, pos){</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  tmp <span class="ot">=</span> input <span class="sc">%&gt;%</span> <span class="fu">filter</span>(DESTINATION_AIRPORT <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'BWI'</span>, <span class="st">'MIA'</span>, <span class="st">'SEA'</span>, <span class="st">'SFO'</span>, <span class="st">'JFK'</span>) <span class="sc">|</span> ORIGIN_AIRPORT <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'BWI'</span>, <span class="st">'MIA'</span>, <span class="st">'SEA'</span>, <span class="st">'SFO'</span>, <span class="st">'JFK'</span>))</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Leitura atingiu a linha "</span>, pos)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dbWriteTable</span>(conn, <span class="st">"flights"</span>, tmp, <span class="at">append=</span><span class="cn">TRUE</span>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="4" type="1">
<li>Leia o arquivo <code>flights.csv</code>, restringindo-se às colunas <code>YEAR</code>, <code>MONTH</code>, <code>DAY</code>, <code>AIRLINE</code>, <code>FLIGHT_NUMBER</code>, <code>ORIGIN_AIRPORT</code>, <code>DESTINATION_AIRPORT</code> e <code>ARRIVAL_DELAY</code>, e aplique a função <code>lerDados()</code> criada acima. Observe, novamente, que a função <code>lerDados()</code> não retorna nada para o usuário. Por isso, a função de callback a ser utilizada é <code>SideEffectChunkCallback$new()</code>. Leia 100 mil registros por vez.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ purrr     1.0.2
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.1     ✔ tibble    3.2.1
✔ lubridate 1.9.3     ✔ tidyr     1.3.1
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>fname <span class="ot">=</span> <span class="fu">file.path</span>(path, <span class="st">"flights.csv"</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>out <span class="ot">=</span> <span class="fu">read_csv_chunked</span>(fname, <span class="at">chunk_size =</span> <span class="fl">1e5</span>, <span class="at">callback=</span>SideEffectChunkCallback<span class="sc">$</span><span class="fu">new</span>(lerDados),</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">col_types =</span> <span class="fu">cols_only</span>(<span class="at">YEAR=</span><span class="st">'i'</span>, <span class="at">MONTH=</span><span class="st">'i'</span>, <span class="at">DAY=</span><span class="st">'i'</span>, <span class="at">AIRLINE=</span><span class="st">'c'</span>,</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">FLIGHT_NUMBER=</span><span class="st">'i'</span>, <span class="at">ORIGIN_AIRPORT=</span><span class="st">'c'</span>,</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">DESTINATION_AIRPORT=</span><span class="st">'c'</span>, <span class="at">ARRIVAL_DELAY=</span><span class="st">'i'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Leitura atingiu a linha 1
Leitura atingiu a linha 100001
Leitura atingiu a linha 200001
Leitura atingiu a linha 300001
Leitura atingiu a linha 400001
Leitura atingiu a linha 500001
Leitura atingiu a linha 600001
Leitura atingiu a linha 700001
Leitura atingiu a linha 800001
Leitura atingiu a linha 900001
Leitura atingiu a linha 1000001
Leitura atingiu a linha 1100001
Leitura atingiu a linha 1200001
Leitura atingiu a linha 1300001
Leitura atingiu a linha 1400001
Leitura atingiu a linha 1500001
Leitura atingiu a linha 1600001
Leitura atingiu a linha 1700001
Leitura atingiu a linha 1800001
Leitura atingiu a linha 1900001
Leitura atingiu a linha 2000001
Leitura atingiu a linha 2100001
Leitura atingiu a linha 2200001
Leitura atingiu a linha 2300001
Leitura atingiu a linha 2400001
Leitura atingiu a linha 2500001
Leitura atingiu a linha 2600001
Leitura atingiu a linha 2700001
Leitura atingiu a linha 2800001
Leitura atingiu a linha 2900001
Leitura atingiu a linha 3000001
Leitura atingiu a linha 3100001
Leitura atingiu a linha 3200001
Leitura atingiu a linha 3300001
Leitura atingiu a linha 3400001
Leitura atingiu a linha 3500001
Leitura atingiu a linha 3600001
Leitura atingiu a linha 3700001
Leitura atingiu a linha 3800001
Leitura atingiu a linha 3900001
Leitura atingiu a linha 4000001
Leitura atingiu a linha 4100001
Leitura atingiu a linha 4200001
Leitura atingiu a linha 4300001
Leitura atingiu a linha 4400001
Leitura atingiu a linha 4500001
Leitura atingiu a linha 4600001
Leitura atingiu a linha 4700001
Leitura atingiu a linha 4800001
Leitura atingiu a linha 4900001
Leitura atingiu a linha 5000001
Leitura atingiu a linha 5100001
Leitura atingiu a linha 5200001
Leitura atingiu a linha 5300001
Leitura atingiu a linha 5400001
Leitura atingiu a linha 5500001
Leitura atingiu a linha 5600001
Leitura atingiu a linha 5700001
Leitura atingiu a linha 5800001</code></pre>
</div>
</div>
<ol start="5" type="1">
<li>Acesse o banco de dados e, por meio de uma chamada em SQL, apresente o tempo médio de atraso de chegada por aeroporto de destino, a sigla do aeroporto, o nome completo do aeroporto e o nome completo da companhia aérea. Ordene o resultado (na mesma chamada de SQL) por ordem decrescente deste atraso médio (i.e., o primeiro registro deve ser o aeroporto que tem o maior tempo de atraso na chegada). Atente para o fato de que o mesmo nome de coluna pode acontecer em diferentes tabelas.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dbGetQuery</span>(conn,</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>           <span class="st">"SELECT DESTINATION_AIRPORT, AIRPORT, airlines.AIRLINE, AVG(ARRIVAL_DELAY) AS atraso FROM flights</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="st">           INNER JOIN airports</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="st">           ON flights.DESTINATION_AIRPORT=airports.IATA_CODE</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="st">           INNER JOIN airlines</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="st">           ON flights.AIRLINE=airlines.IATA_CODE</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="st">           GROUP BY DESTINATION_AIRPORT, flights.AIRLINE</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="st">           ORDER BY atraso DESC"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    DESTINATION_AIRPORT
1                   DTW
2                   JAX
3                   IAH
4                   MSN
5                   IAH
6                   ATL
7                   LGA
8                   ORD
9                   MTJ
10                  MSP
11                  BNA
12                  MSO
13                  ATL
14                  ORD
15                  JAC
16                  DEN
17                  DCA
18                  OTH
19                  IAH
20                  IAH
21                  BWI
22                  ASE
23                  LAS
24                  RIC
25                  MIA
26                  LAX
27                  KTN
28                  JNU
29                  MIA
30                  SFO
31                  STL
32                  HNL
33                  MYR
34                  PHL
35                  TUS
36                  PHX
37                  HNL
38                  HDN
39                  STL
40                  CLT
41                  PDX
42                  BOS
43                  EGE
44                  STT
45                  ATL
46                  SAT
47                  FLL
48                  IAD
49                  LAX
50                  ORD
51                  DFW
52                  MCI
53                  BDL
54                  PSE
55                  ATL
56                  BUF
57                  MSP
58                  ORF
59                  EWR
60                  PBI
61                  ISP
62                  IND
63                  JFK
64                  ANC
65                  ECP
66                  OKC
67                  MSY
68                  JFK
69                  TUL
70                  ROC
71                  BUF
72                  DFW
73                  SYR
74                  ORD
75                  RDU
76                  FLL
77                  STL
78                  LAS
79                  ANC
80                  JAX
81                  BOS
82                  AUS
83                  BDL
84                  SJU
85                  BQN
86                  JFK
87                  JAX
88                  SFO
89                  IAD
90                  SMF
91                  SUN
92                  LAX
93                  PBI
94                  ACV
95                  SJC
96                  OGG
97                  ALB
98                  CHS
99                  SEA
100                 DAL
101                 EWR
102                 PVD
103                 PIT
104                 LIT
105                 JAC
106                 CHS
107                 MHT
108                 OGG
109                 FLL
110                 RDU
111                 SFO
112                 GRR
113                 AUS
114                 LGA
115                 MCO
116                 PDX
117                 FAT
118                 PNS
119                 MMH
120                 GNV
121                 PWM
122                 CLE
123                 MIA
124                 FNT
125                 SAN
126                 DEN
127                 DCA
128                 MCI
129                 RNO
130                 RNO
131                 OAK
132                 PHX
133                 DCA
134                 ABQ
135                 COS
136                 CMH
137                 BTV
138                 PSP
139                 AUS
140                 BWI
141                 MCO
142                 MSP
143                 PSC
144                 BNA
145                 SLC
146                 SNA
147                 DAY
148                 RSW
149                 AUS
150                 RDD
151                 JFK
152                 BUF
153                 SJU
154                 MFR
155                 PDX
156                 BOS
157                 OGG
158                 PSP
159                 ROC
160                 SEA
161                 AUS
162                 SJU
163                 LGA
164                 EUG
165                 MIA
166                 RSW
167                 BWI
168                 STX
169                 FLL
170                 LAX
171                 TPA
172                 BOS
173                 SEA
174                 SFO
175                 BOI
176                 BZN
177                 ANC
178                 SMF
179                 MCO
180                 BLI
181                 SFO
182                 LAX
183                 DFW
184                 OMA
185                 RDM
186                 DTW
187                 LAS
188                 IAH
189                 PWM
190                 TPA
191                 BHM
192                 MIA
193                 RDU
194                 GEG
195                 SEA
196                 IND
197                 SEA
198                 BUR
199                 MCI
200                 ORF
201                 CHS
202                 ATL
203                 DEN
204                 BWI
205                 SAN
206                 LAX
207                 LAS
208                 JFK
209                 LAS
210                 JFK
211                 TPA
212                 OKC
213                 MCO
214                 GSO
215                 MSP
216                 PDX
217                 BWI
218                 DFW
219                 DAL
220                 SDF
221                 SFO
222                 PDX
223                 CMH
224                 AUS
225                 STL
226                 DEN
227                 ORD
228                 DCA
229                 GSP
230                 BNA
231                 IAH
232                 PHX
233                 IND
234                 BWI
235                 MSY
236                 SAN
237                 HNL
238                 ORD
239                 SAN
240                 HOU
241                 DTW
242                 BHM
243                 LIH
244                 GEG
245                 JFK
246                 PDX
247                 MRY
248                 SLC
249                 SEA
250                 HOU
251                 SJC
252                 ABQ
253                 JAX
254                 SFO
255                 IAD
256                 SEA
257                 SLC
258                 MCO
259                 SBA
260                 CEC
261                 SAV
262                 KTN
263                 PHL
264                 EYW
265                 SBP
266                 ONT
267                 SAT
268                 MIA
269                 CLE
270                 KOA
271                 SFO
272                 EWR
273                 PHL
274                 OKC
275                 DEN
276                 LAS
277                 ACK
278                 PHX
279                 CVG
280                 SFO
281                 JNU
282                 PSP
283                 BWI
284                 PHX
285                 DEN
286                 SAT
287                 AUS
288                 CLE
289                 LAS
290                 HYA
291                 ATL
292                 BOS
293                 MKE
294                 MSY
295                 MDW
296                 JNU
297                 LGB
298                 FAI
299                 SEA
300                 SMF
301                 PHL
302                 FLL
303                 DEN
304                 SIT
305                 SAN
306                 SLC
307                 RDU
308                 BWI
309                 ORD
310                 SLC
311                 JFK
312                 PDX
313                 PHX
314                 BUR
315                 ABQ
316                 CLT
317                 MEM
318                 PHX
319                 ORD
320                 SFO
321                 SJC
322                 LAX
323                 SIT
324                 CLT
325                 SNA
326                 LAS
327                 EWR
328                 RDU
329                 STL
330                 SNA
331                 BFL
332                 MSY
333                 LAX
334                 SMX
335                 OAK
336                 LGB
337                 TPA
338                 DTW
339                 SEA
340                 RNO
341                 SAN
342                 TLH
343                 DTW
344                 DTW
345                 SEA
346                 IAH
347                 CLT
348                 SLC
349                 FLL
350                 MSY
351                 OAK
352                 MCI
353                 SAT
354                 PHX
355                 DFW
356                 PBI
357                 ANC
358                 SFO
359                 DEN
360                 ONT
361                 IAD
362                 MIA
363                 ATL
364                 PBI
365                 LAS
366                 IAD
367                 BWI
368                 PHL
369                 PHX
370                 MSP
371                 FLL
372                 SMF
373                 MSP
374                 LAS
375                 MEM
376                 SAN
377                 SRQ
378                 BUR
379                 OKC
380                 ATL
381                 SEA
382                 EWR
383                 TUS
384                 SJU
385                 SNA
386                 MKE
387                 MSY
388                 SLC
389                 SJC
390                 ORD
391                 CVG
392                 FAI
393                 DTW
394                 PIT
395                 BOS
396                 MVY
397                 CLE
398                 MCI
399                 STT
400                 CVG
401                 ORD
402                 XNA
403                 PIT
404                 HNL
405                 HNL
406                 CHS
407                 OAK
408                 LAX
409                 RSW
410                 DCA
411                 PSP
412                 DCA
413                 BOS
414                 BNA
415                 TPA
416                 KOA
417                 AUS
418                 MSY
419                 BWI
420                 SAN
421                 DCA
422                 OGG
423                 GSP
424                 KOA
425                 OGG
426                 MCO
427                 TPA
428                 SAT
429                 SAT
430                 BIL
431                 IAD
432                 SMF
433                 JAC
434                 BWI
435                 LIH
436                 IAH
437                 BOI
438                 RDU
439                 ORD
440                 RDU
441                 JFK
442                 SYR
443                 OMA
444                 ABQ
445                 CHS
446                 MSP
447                 CLE
448                 SAV
                                                                    AIRPORT
1                                              Detroit Metropolitan Airport
2                                        Jacksonville International Airport
3                                      George Bush Intercontinental Airport
4                                              Dane County Regional Airport
5                                      George Bush Intercontinental Airport
6                          Hartsfield-Jackson Atlanta International Airport
7                                   LaGuardia Airport (Marine Air Terminal)
8                                      Chicago O'Hare International Airport
9                                                 Montrose Regional Airport
10                             Minneapolis-Saint Paul International Airport
11                                          Nashville International Airport
12                                           Missoula International Airport
13                         Hartsfield-Jackson Atlanta International Airport
14                                     Chicago O'Hare International Airport
15                                                     Jackson Hole Airport
16                                             Denver International Airport
17                                Ronald Reagan Washington National Airport
18                 Southwest Oregon Regional Airport&nbsp;(North Bend Municipal)
19                                     George Bush Intercontinental Airport
20                                     George Bush Intercontinental Airport
21                               Baltimore-Washington International Airport
22                                              Aspen-Pitkin County Airport
23                                           McCarran International Airport
24                                           Richmond International Airport
25                                              Miami International Airport
26                                        Los Angeles International Airport
27                                          Ketchikan International Airport
28                                             Juneau International Airport
29                                              Miami International Airport
30                                      San Francisco International Airport
31                         St. Louis International Airport at Lambert Field
32                                           Honolulu International Airport
33                                       Myrtle Beach International Airport
34                                       Philadelphia International Airport
35                                             Tucson International Airport
36                                 Phoenix Sky Harbor International Airport
37                                           Honolulu International Airport
38                             Yampa Valley Airport&nbsp;(Yampa Valley Regional)
39                         St. Louis International Airport at Lambert Field
40                                  Charlotte Douglas International Airport
41                                           Portland International Airport
42                         Gen. Edward Lawrence Logan International Airport
43                                            Eagle County Regional Airport
44                                                    Cyril E. King Airport
45                         Hartsfield-Jackson Atlanta International Airport
46                                        San Antonio International Airport
47                          Fort Lauderdale-Hollywood International Airport
48                                  Washington Dulles International Airport
49                                        Los Angeles International Airport
50                                     Chicago O'Hare International Airport
51                                  Dallas/Fort Worth International Airport
52                                        Kansas City International Airport
53                                            Bradley International Airport
54                                                        Mercedita Airport
55                         Hartsfield-Jackson Atlanta International Airport
56                                    Buffalo Niagara International Airport
57                             Minneapolis-Saint Paul International Airport
58                                            Norfolk International Airport
59                                     Newark Liberty International Airport
60                                         Palm Beach International Airport
61                                            Long Island MacArthur Airport
62                                       Indianapolis International Airport
63   John F. Kennedy International Airport&nbsp;(New York International Airport)
64                              Ted Stevens Anchorage International Airport
65                          Northwest Florida Beaches International Airport
66                                                Will Rogers World Airport
67                        Louis Armstrong New Orleans International Airport
68   John F. Kennedy International Airport&nbsp;(New York International Airport)
69                                              Tulsa International Airport
70                                  Greater Rochester International Airport
71                                    Buffalo Niagara International Airport
72                                  Dallas/Fort Worth International Airport
73                                   Syracuse Hancock International Airport
74                                     Chicago O'Hare International Airport
75                                     Raleigh-Durham International Airport
76                          Fort Lauderdale-Hollywood International Airport
77                         St. Louis International Airport at Lambert Field
78                                           McCarran International Airport
79                              Ted Stevens Anchorage International Airport
80                                       Jacksonville International Airport
81                         Gen. Edward Lawrence Logan International Airport
82                                   Austin-Bergstrom International Airport
83                                            Bradley International Airport
84                                   Luis Muñoz Marín International Airport
85                                                 Rafael Hernández Airport
86   John F. Kennedy International Airport&nbsp;(New York International Airport)
87                                       Jacksonville International Airport
88                                      San Francisco International Airport
89                                  Washington Dulles International Airport
90                                         Sacramento International Airport
91                                                Friedman Memorial Airport
92                                        Los Angeles International Airport
93                                         Palm Beach International Airport
94                                                           Arcata Airport
95                          Norman Y. Mineta San José International Airport
96                                                          Kahului Airport
97                                             Albany International Airport
98                          Charleston International Airport/Charleston AFB
99                                     Seattle-Tacoma International Airport
100                                                       Dallas Love Field
101                                    Newark Liberty International Airport
102                                    Theodore Francis Green State Airport
103                                        Pittsburgh International Airport
104                 Bill and Hillary Clinton National Airport&nbsp;(Adams Field)
105                                                    Jackson Hole Airport
106                         Charleston International Airport/Charleston AFB
107                                      Manchester-Boston Regional Airport
108                                                         Kahului Airport
109                         Fort Lauderdale-Hollywood International Airport
110                                    Raleigh-Durham International Airport
111                                     San Francisco International Airport
112                                    Gerald R. Ford International Airport
113                                  Austin-Bergstrom International Airport
114                                 LaGuardia Airport (Marine Air Terminal)
115                                           Orlando International Airport
116                                          Portland International Airport
117                                   Fresno Yosemite International Airport
118 Pensacola International Airport&nbsp;(Pensacola Gulf Coast Regional Airport)
119                                                Mammoth Yosemite Airport
120                                            Gainesville Regional Airport
121                                          Portland International Jetport
122                                 Cleveland Hopkins International Airport
123                                             Miami International Airport
124                                            Bishop International Airport
125                       San Diego International Airport&nbsp;(Lindbergh Field)
126                                            Denver International Airport
127                               Ronald Reagan Washington National Airport
128                                       Kansas City International Airport
129                                        Reno/Tahoe International Airport
130                                        Reno/Tahoe International Airport
131                                           Oakland International Airport
132                                Phoenix Sky Harbor International Airport
133                               Ronald Reagan Washington National Airport
134                                       Albuquerque International Sunport
135                              City of Colorado Springs Municipal Airport
136                                     Port Columbus International Airport
137                                        Burlington International Airport
138                                      Palm Springs International Airport
139                                  Austin-Bergstrom International Airport
140                              Baltimore-Washington International Airport
141                                           Orlando International Airport
142                            Minneapolis-Saint Paul International Airport
143                                                      Tri-Cities Airport
144                                         Nashville International Airport
145                                    Salt Lake City International Airport
146                              John Wayne Airport&nbsp;(Orange County Airport)
147                               James M. Cox Dayton International Airport
148                                 Southwest Florida International Airport
149                                  Austin-Bergstrom International Airport
150                                               Redding Municipal Airport
151  John F. Kennedy International Airport&nbsp;(New York International Airport)
152                                   Buffalo Niagara International Airport
153                                  Luis Muñoz Marín International Airport
154                                      Rogue Valley International Airport
155                                          Portland International Airport
156                        Gen. Edward Lawrence Logan International Airport
157                                                         Kahului Airport
158                                      Palm Springs International Airport
159                                 Greater Rochester International Airport
160                                    Seattle-Tacoma International Airport
161                                  Austin-Bergstrom International Airport
162                                  Luis Muñoz Marín International Airport
163                                 LaGuardia Airport (Marine Air Terminal)
164                                     Eugene Airport&nbsp;(Mahlon Sweet Field)
165                                             Miami International Airport
166                                 Southwest Florida International Airport
167                              Baltimore-Washington International Airport
168                                                Henry E. Rohlsen Airport
169                         Fort Lauderdale-Hollywood International Airport
170                                       Los Angeles International Airport
171                                             Tampa International Airport
172                        Gen. Edward Lawrence Logan International Airport
173                                    Seattle-Tacoma International Airport
174                                     San Francisco International Airport
175                                      Boise Airport&nbsp;(Boise Air Terminal)
176      Bozeman Yellowstone International Airport&nbsp;(Gallatin Field Airport)
177                             Ted Stevens Anchorage International Airport
178                                        Sacramento International Airport
179                                           Orlando International Airport
180                                        Bellingham International Airport
181                                     San Francisco International Airport
182                                       Los Angeles International Airport
183                                 Dallas/Fort Worth International Airport
184                                                         Eppley Airfield
185                               Redmond Municipal Airport&nbsp;(Roberts Field)
186                                            Detroit Metropolitan Airport
187                                          McCarran International Airport
188                                    George Bush Intercontinental Airport
189                                          Portland International Jetport
190                                             Tampa International Airport
191                          Birmingham-Shuttlesworth International Airport
192                                             Miami International Airport
193                                    Raleigh-Durham International Airport
194                                           Spokane International Airport
195                                    Seattle-Tacoma International Airport
196                                      Indianapolis International Airport
197                                    Seattle-Tacoma International Airport
198                            Bob Hope Airport&nbsp;(Hollywood Burbank Airport)
199                                       Kansas City International Airport
200                                           Norfolk International Airport
201                         Charleston International Airport/Charleston AFB
202                        Hartsfield-Jackson Atlanta International Airport
203                                            Denver International Airport
204                              Baltimore-Washington International Airport
205                       San Diego International Airport&nbsp;(Lindbergh Field)
206                                       Los Angeles International Airport
207                                          McCarran International Airport
208  John F. Kennedy International Airport&nbsp;(New York International Airport)
209                                          McCarran International Airport
210  John F. Kennedy International Airport&nbsp;(New York International Airport)
211                                             Tampa International Airport
212                                               Will Rogers World Airport
213                                           Orlando International Airport
214                                    Piedmont Triad International Airport
215                            Minneapolis-Saint Paul International Airport
216                                          Portland International Airport
217                              Baltimore-Washington International Airport
218                                 Dallas/Fort Worth International Airport
219                                                       Dallas Love Field
220                     Louisville International Airport&nbsp;(Standiford Field)
221                                     San Francisco International Airport
222                                          Portland International Airport
223                                     Port Columbus International Airport
224                                  Austin-Bergstrom International Airport
225                        St. Louis International Airport at Lambert Field
226                                            Denver International Airport
227                                    Chicago O'Hare International Airport
228                               Ronald Reagan Washington National Airport
229                            Greenville-Spartanburg International Airport
230                                         Nashville International Airport
231                                    George Bush Intercontinental Airport
232                                Phoenix Sky Harbor International Airport
233                                      Indianapolis International Airport
234                              Baltimore-Washington International Airport
235                       Louis Armstrong New Orleans International Airport
236                       San Diego International Airport&nbsp;(Lindbergh Field)
237                                          Honolulu International Airport
238                                    Chicago O'Hare International Airport
239                       San Diego International Airport&nbsp;(Lindbergh Field)
240                                                William P. Hobby Airport
241                                            Detroit Metropolitan Airport
242                          Birmingham-Shuttlesworth International Airport
243                                                           Lihue Airport
244                                           Spokane International Airport
245  John F. Kennedy International Airport&nbsp;(New York International Airport)
246                                          Portland International Airport
247                  Monterey Regional Airport&nbsp;(Monterey Peninsula Airport)
248                                    Salt Lake City International Airport
249                                    Seattle-Tacoma International Airport
250                                                William P. Hobby Airport
251                         Norman Y. Mineta San José International Airport
252                                       Albuquerque International Sunport
253                                      Jacksonville International Airport
254                                     San Francisco International Airport
255                                 Washington Dulles International Airport
256                                    Seattle-Tacoma International Airport
257                                    Salt Lake City International Airport
258                                           Orlando International Airport
259                 Santa Barbara Municipal Airport&nbsp;(Santa Barbara Airport)
260                          Del Norte County Airport&nbsp;(Jack McNamara Field)
261                              Savannah/Hilton Head International Airport
262                                         Ketchikan International Airport
263                                      Philadelphia International Airport
264                                          Key West International Airport
265               San Luis Obispo County Regional Airport&nbsp;(McChesney Field)
266                                           Ontario International Airport
267                                       San Antonio International Airport
268                                             Miami International Airport
269                                 Cleveland Hopkins International Airport
270                                   Kona International Airport at Keahole
271                                     San Francisco International Airport
272                                    Newark Liberty International Airport
273                                      Philadelphia International Airport
274                                               Will Rogers World Airport
275                                            Denver International Airport
276                                          McCarran International Airport
277                                              Nantucket Memorial Airport
278                                Phoenix Sky Harbor International Airport
279                      Cincinnati/Northern Kentucky International Airport
280                                     San Francisco International Airport
281                                            Juneau International Airport
282                                      Palm Springs International Airport
283                              Baltimore-Washington International Airport
284                                Phoenix Sky Harbor International Airport
285                                            Denver International Airport
286                                       San Antonio International Airport
287                                  Austin-Bergstrom International Airport
288                                 Cleveland Hopkins International Airport
289                                          McCarran International Airport
290                                            Barnstable Municipal Airport
291                        Hartsfield-Jackson Atlanta International Airport
292                        Gen. Edward Lawrence Logan International Airport
293                                  General Mitchell International Airport
294                       Louis Armstrong New Orleans International Airport
295                                    Chicago Midway International Airport
296                                            Juneau International Airport
297                                    Long Beach Airport&nbsp;(Daugherty Field)
298                                         Fairbanks International Airport
299                                    Seattle-Tacoma International Airport
300                                        Sacramento International Airport
301                                      Philadelphia International Airport
302                         Fort Lauderdale-Hollywood International Airport
303                                            Denver International Airport
304                                           Sitka Rocky Gutierrez Airport
305                       San Diego International Airport&nbsp;(Lindbergh Field)
306                                    Salt Lake City International Airport
307                                    Raleigh-Durham International Airport
308                              Baltimore-Washington International Airport
309                                    Chicago O'Hare International Airport
310                                    Salt Lake City International Airport
311  John F. Kennedy International Airport&nbsp;(New York International Airport)
312                                          Portland International Airport
313                                Phoenix Sky Harbor International Airport
314                            Bob Hope Airport&nbsp;(Hollywood Burbank Airport)
315                                       Albuquerque International Sunport
316                                 Charlotte Douglas International Airport
317                                           Memphis International Airport
318                                Phoenix Sky Harbor International Airport
319                                    Chicago O'Hare International Airport
320                                     San Francisco International Airport
321                         Norman Y. Mineta San José International Airport
322                                       Los Angeles International Airport
323                                           Sitka Rocky Gutierrez Airport
324                                 Charlotte Douglas International Airport
325                              John Wayne Airport&nbsp;(Orange County Airport)
326                                          McCarran International Airport
327                                    Newark Liberty International Airport
328                                    Raleigh-Durham International Airport
329                        St. Louis International Airport at Lambert Field
330                              John Wayne Airport&nbsp;(Orange County Airport)
331                                                           Meadows Field
332                       Louis Armstrong New Orleans International Airport
333                                       Los Angeles International Airport
334                Santa Maria Public Airport&nbsp;(Capt G. Allan Hancock Field)
335                                           Oakland International Airport
336                                    Long Beach Airport&nbsp;(Daugherty Field)
337                                             Tampa International Airport
338                                            Detroit Metropolitan Airport
339                                    Seattle-Tacoma International Airport
340                                        Reno/Tahoe International Airport
341                       San Diego International Airport&nbsp;(Lindbergh Field)
342                                       Tallahassee International Airport
343                                            Detroit Metropolitan Airport
344                                            Detroit Metropolitan Airport
345                                    Seattle-Tacoma International Airport
346                                    George Bush Intercontinental Airport
347                                 Charlotte Douglas International Airport
348                                    Salt Lake City International Airport
349                         Fort Lauderdale-Hollywood International Airport
350                       Louis Armstrong New Orleans International Airport
351                                           Oakland International Airport
352                                       Kansas City International Airport
353                                       San Antonio International Airport
354                                Phoenix Sky Harbor International Airport
355                                 Dallas/Fort Worth International Airport
356                                        Palm Beach International Airport
357                             Ted Stevens Anchorage International Airport
358                                     San Francisco International Airport
359                                            Denver International Airport
360                                           Ontario International Airport
361                                 Washington Dulles International Airport
362                                             Miami International Airport
363                        Hartsfield-Jackson Atlanta International Airport
364                                        Palm Beach International Airport
365                                          McCarran International Airport
366                                 Washington Dulles International Airport
367                              Baltimore-Washington International Airport
368                                      Philadelphia International Airport
369                                Phoenix Sky Harbor International Airport
370                            Minneapolis-Saint Paul International Airport
371                         Fort Lauderdale-Hollywood International Airport
372                                        Sacramento International Airport
373                            Minneapolis-Saint Paul International Airport
374                                          McCarran International Airport
375                                           Memphis International Airport
376                       San Diego International Airport&nbsp;(Lindbergh Field)
377                                Sarasota-Bradenton International Airport
378                            Bob Hope Airport&nbsp;(Hollywood Burbank Airport)
379                                               Will Rogers World Airport
380                        Hartsfield-Jackson Atlanta International Airport
381                                    Seattle-Tacoma International Airport
382                                    Newark Liberty International Airport
383                                            Tucson International Airport
384                                  Luis Muñoz Marín International Airport
385                              John Wayne Airport&nbsp;(Orange County Airport)
386                                  General Mitchell International Airport
387                       Louis Armstrong New Orleans International Airport
388                                    Salt Lake City International Airport
389                         Norman Y. Mineta San José International Airport
390                                    Chicago O'Hare International Airport
391                      Cincinnati/Northern Kentucky International Airport
392                                         Fairbanks International Airport
393                                            Detroit Metropolitan Airport
394                                        Pittsburgh International Airport
395                        Gen. Edward Lawrence Logan International Airport
396                                               Martha's Vineyard Airport
397                                 Cleveland Hopkins International Airport
398                                       Kansas City International Airport
399                                                   Cyril E. King Airport
400                      Cincinnati/Northern Kentucky International Airport
401                                    Chicago O'Hare International Airport
402                                     Northwest Arkansas Regional Airport
403                                        Pittsburgh International Airport
404                                          Honolulu International Airport
405                                          Honolulu International Airport
406                         Charleston International Airport/Charleston AFB
407                                           Oakland International Airport
408                                       Los Angeles International Airport
409                                 Southwest Florida International Airport
410                               Ronald Reagan Washington National Airport
411                                      Palm Springs International Airport
412                               Ronald Reagan Washington National Airport
413                        Gen. Edward Lawrence Logan International Airport
414                                         Nashville International Airport
415                                             Tampa International Airport
416                                   Kona International Airport at Keahole
417                                  Austin-Bergstrom International Airport
418                       Louis Armstrong New Orleans International Airport
419                              Baltimore-Washington International Airport
420                       San Diego International Airport&nbsp;(Lindbergh Field)
421                               Ronald Reagan Washington National Airport
422                                                         Kahului Airport
423                            Greenville-Spartanburg International Airport
424                                   Kona International Airport at Keahole
425                                                         Kahului Airport
426                                           Orlando International Airport
427                                             Tampa International Airport
428                                       San Antonio International Airport
429                                       San Antonio International Airport
430                                    Billings Logan International Airport
431                                 Washington Dulles International Airport
432                                        Sacramento International Airport
433                                                    Jackson Hole Airport
434                              Baltimore-Washington International Airport
435                                                           Lihue Airport
436                                    George Bush Intercontinental Airport
437                                      Boise Airport&nbsp;(Boise Air Terminal)
438                                    Raleigh-Durham International Airport
439                                    Chicago O'Hare International Airport
440                                    Raleigh-Durham International Airport
441  John F. Kennedy International Airport&nbsp;(New York International Airport)
442                                  Syracuse Hancock International Airport
443                                                         Eppley Airfield
444                                       Albuquerque International Sunport
445                         Charleston International Airport/Charleston AFB
446                            Minneapolis-Saint Paul International Airport
447                                 Cleveland Hopkins International Airport
448                              Savannah/Hilton Head International Airport
                         AIRLINE       atraso
1          Skywest Airlines Inc. 143.00000000
2           Delta Air Lines Inc.  41.00000000
3                US Airways Inc.  36.20000000
4          United Air Lines Inc.  34.50000000
5          Skywest Airlines Inc.  27.71428571
6               Spirit Air Lines  25.79268293
7         Frontier Airlines Inc.  24.02068966
8               Spirit Air Lines  22.45724907
9          Skywest Airlines Inc.  22.44827586
10              Spirit Air Lines  22.17613636
11        American Airlines Inc.  22.00000000
12         Skywest Airlines Inc.  20.62068966
13        Frontier Airlines Inc.  19.11235955
14        Frontier Airlines Inc.  19.09426987
15         Skywest Airlines Inc.  19.02762431
16        Frontier Airlines Inc.  18.49951737
17          Delta Air Lines Inc.  18.08219178
18         Skywest Airlines Inc.  17.83263598
19        Frontier Airlines Inc.  17.27627628
20              Spirit Air Lines  17.09623431
21              Spirit Air Lines  17.01772152
22         Skywest Airlines Inc.  16.95054945
23              Spirit Air Lines  16.94848485
24  American Eagle Airlines Inc.  16.68000000
25         Skywest Airlines Inc.  16.39325843
26              Spirit Air Lines  16.35460993
27         Skywest Airlines Inc.  16.35398230
28         Skywest Airlines Inc.  15.84313725
29        Frontier Airlines Inc.  15.26947891
30        Frontier Airlines Inc.  15.04894384
31         United Air Lines Inc.  15.02409639
32        Hawaiian Airlines Inc.  14.86992716
33              Spirit Air Lines  14.85572139
34        Frontier Airlines Inc.  14.80511182
35         Skywest Airlines Inc.  14.78358209
36        Frontier Airlines Inc.  14.77358491
37         United Air Lines Inc.  14.72965703
38         Skywest Airlines Inc.  14.56451613
39        American Airlines Inc.  14.35451505
40        Southwest Airlines Co.  14.34477379
41               JetBlue Airways  14.32851986
42        Southwest Airlines Co.  14.20797931
43        American Airlines Inc.  13.99559471
44        American Airlines Inc.  13.74077253
45        American Airlines Inc.  13.56886228
46         Skywest Airlines Inc.  13.49808429
47              Spirit Air Lines  13.44375963
48        American Airlines Inc.  13.36585366
49         Skywest Airlines Inc.  13.21359223
50  American Eagle Airlines Inc.  13.09536785
51         Skywest Airlines Inc.  13.02173913
52        American Airlines Inc.  12.91133005
53        Southwest Airlines Co.  12.87552644
54               JetBlue Airways  12.79076923
55  American Eagle Airlines Inc.  12.68750000
56          Delta Air Lines Inc.  12.60509554
57        American Airlines Inc.  12.39646465
58        Southwest Airlines Co.  12.35886020
59        American Airlines Inc.  12.15687790
60        Southwest Airlines Co.  12.06749740
61        Southwest Airlines Co.  11.85637222
62        Southwest Airlines Co.  11.83349950
63  American Eagle Airlines Inc.  11.79889469
64               JetBlue Airways  11.72777778
65        Southwest Airlines Co.  11.71153846
66        Southwest Airlines Co.  11.64723926
67        American Airlines Inc.  11.51623377
68               US Airways Inc.  11.43088235
69        American Airlines Inc.  11.41304348
70        Southwest Airlines Co.  11.35663338
71        Southwest Airlines Co.  11.22593431
72              Spirit Air Lines  11.14848485
73               JetBlue Airways  11.04179409
74               JetBlue Airways  10.88936627
75        Southwest Airlines Co.  10.86461056
76               JetBlue Airways  10.84513399
77         Skywest Airlines Inc.  10.76315789
78        Frontier Airlines Inc.  10.76033058
79         United Air Lines Inc.  10.74213836
80        Southwest Airlines Co.  10.40128558
81        American Airlines Inc.  10.39814815
82               JetBlue Airways  10.34238311
83        American Airlines Inc.  10.33875339
84        American Airlines Inc.  10.32306684
85               JetBlue Airways  10.27891156
86        Hawaiian Airlines Inc.  10.26279863
87               JetBlue Airways  10.17465389
88        Southwest Airlines Co.  10.09068449
89               JetBlue Airways  10.02305159
90        Southwest Airlines Co.   9.84973638
91         Skywest Airlines Inc.   9.83443709
92        Southwest Airlines Co.   9.77543860
93               JetBlue Airways   9.70954357
94         Skywest Airlines Inc.   9.67561168
95        Southwest Airlines Co.   9.66469894
96        Hawaiian Airlines Inc.   9.65256798
97        Southwest Airlines Co.   9.64659843
98  American Eagle Airlines Inc.   9.63306452
99        Frontier Airlines Inc.   9.62626263
100               Virgin America   9.60670732
101  Atlantic Southeast Airlines   9.57939914
102       Southwest Airlines Co.   9.56047560
103       Southwest Airlines Co.   9.53431890
104       Southwest Airlines Co.   9.31818182
105         Delta Air Lines Inc.   9.25000000
106       Southwest Airlines Co.   9.13486513
107       Southwest Airlines Co.   9.13148148
108         Delta Air Lines Inc.   9.08437500
109        United Air Lines Inc.   9.07142857
110 American Eagle Airlines Inc.   9.03088803
111        Skywest Airlines Inc.   9.02810785
112       Southwest Airlines Co.   9.02689873
113         Alaska Airlines Inc.   8.98250000
114         Delta Air Lines Inc.   8.96578947
115       American Airlines Inc.   8.89286690
116       Southwest Airlines Co.   8.82258065
117        Skywest Airlines Inc.   8.75854082
118 American Eagle Airlines Inc.   8.73804574
119        Skywest Airlines Inc.   8.71755725
120 American Eagle Airlines Inc.   8.67832168
121       Southwest Airlines Co.   8.67523124
122       Southwest Airlines Co.   8.65387894
123        United Air Lines Inc.   8.64418159
124       Southwest Airlines Co.   8.52480916
125        Skywest Airlines Inc.   8.44175317
126        Skywest Airlines Inc.   8.24761905
127 American Eagle Airlines Inc.   8.20558882
128        Skywest Airlines Inc.   8.19090909
129        Skywest Airlines Inc.   8.18061367
130        United Air Lines Inc.   8.17647059
131       Southwest Airlines Co.   8.12184116
132              JetBlue Airways   8.07507508
133       American Airlines Inc.   8.07145067
134        Skywest Airlines Inc.   7.99698795
135        Skywest Airlines Inc.   7.97597598
136       Southwest Airlines Co.   7.95451264
137              JetBlue Airways   7.91600000
138        Skywest Airlines Inc.   7.91324921
139               Virgin America   7.90791599
140        United Air Lines Inc.   7.90715733
141       Southwest Airlines Co.   7.84284284
142        United Air Lines Inc.   7.79687500
143        Skywest Airlines Inc.   7.79238095
144       Southwest Airlines Co.   7.78904250
145        Skywest Airlines Inc.   7.77836691
146        Skywest Airlines Inc.   7.71926489
147       Southwest Airlines Co.   7.65532544
148              JetBlue Airways   7.59459459
149       American Airlines Inc.   7.57277883
150        Skywest Airlines Inc.   7.56940510
151              JetBlue Airways   7.56682028
152              JetBlue Airways   7.44944321
153       Southwest Airlines Co.   7.40161290
154        Skywest Airlines Inc.   7.39619651
155         Delta Air Lines Inc.   7.38983051
156              JetBlue Airways   7.36161903
157        United Air Lines Inc.   7.30492424
158               Virgin America   7.16113744
159              JetBlue Airways   7.14752568
160        United Air Lines Inc.   7.13307331
161        Skywest Airlines Inc.   7.12447257
162              JetBlue Airways   7.11519045
163       American Airlines Inc.   7.11261261
164        Skywest Airlines Inc.   7.05074462
165 American Eagle Airlines Inc.   7.03361669
166       Southwest Airlines Co.   6.99170813
167       American Airlines Inc.   6.84588872
168       American Airlines Inc.   6.83707865
169       Southwest Airlines Co.   6.82375237
170        United Air Lines Inc.   6.81821500
171       American Airlines Inc.   6.81670886
172         Delta Air Lines Inc.   6.80194018
173              JetBlue Airways   6.74631829
174              JetBlue Airways   6.72847409
175        Skywest Airlines Inc.   6.69095477
176        Skywest Airlines Inc.   6.68027211
177         Delta Air Lines Inc.   6.65483871
178        Skywest Airlines Inc.   6.60716014
179        United Air Lines Inc.   6.60000000
180         Alaska Airlines Inc.   6.56680162
181               Virgin America   6.50930969
182         Delta Air Lines Inc.   6.48438031
183        United Air Lines Inc.   6.47169811
184        Skywest Airlines Inc.   6.46107784
185        Skywest Airlines Inc.   6.40617284
186       Southwest Airlines Co.   6.39675676
187               Virgin America   6.37091189
188        United Air Lines Inc.   6.36297180
189              JetBlue Airways   6.34150613
190       Southwest Airlines Co.   6.27676484
191 American Eagle Airlines Inc.   6.26679104
192       American Airlines Inc.   6.26367626
193       American Airlines Inc.   6.18389662
194         Alaska Airlines Inc.   6.08436887
195       Southwest Airlines Co.   6.05378931
196 American Eagle Airlines Inc.   5.96402878
197       Hawaiian Airlines Inc.   5.95045045
198        Skywest Airlines Inc.   5.94037589
199       Southwest Airlines Co.   5.91860465
200 American Eagle Airlines Inc.   5.91369048
201              JetBlue Airways   5.91176471
202       Southwest Airlines Co.   5.91114768
203        United Air Lines Inc.   5.91007562
204  Atlantic Southeast Airlines   5.90718563
205       Southwest Airlines Co.   5.90017690
206               Virgin America   5.88737934
207       Southwest Airlines Co.   5.84955752
208       American Airlines Inc.   5.81727488
209        Skywest Airlines Inc.   5.78396947
210         Delta Air Lines Inc.   5.76125010
211              JetBlue Airways   5.76037196
212        Skywest Airlines Inc.   5.74166667
213              JetBlue Airways   5.64096774
214 American Eagle Airlines Inc.   5.59589041
215        Skywest Airlines Inc.   5.56250000
216        Skywest Airlines Inc.   5.54737336
217              US Airways Inc.   5.53579060
218       American Airlines Inc.   5.49591352
219       Southwest Airlines Co.   5.47616312
220       Southwest Airlines Co.   5.36708861
221        United Air Lines Inc.   5.35152420
222        United Air Lines Inc.   5.33289817
223 American Eagle Airlines Inc.   5.30458221
224        United Air Lines Inc.   5.27965180
225       Southwest Airlines Co.   5.26633479
226              JetBlue Airways   5.21035599
227        United Air Lines Inc.   5.18482816
228        United Air Lines Inc.   5.17592593
229       Southwest Airlines Co.   5.10000000
230 American Eagle Airlines Inc.   5.09142857
231       American Airlines Inc.   5.08984615
232       Southwest Airlines Co.   5.06871345
233        United Air Lines Inc.   5.01597444
234 American Eagle Airlines Inc.   4.99340245
235        United Air Lines Inc.   4.97641509
236               Virgin America   4.94898551
237         Delta Air Lines Inc.   4.93057410
238               Virgin America   4.90469974
239       American Airlines Inc.   4.89779006
240              JetBlue Airways   4.89520958
241  Atlantic Southeast Airlines   4.87500000
242       Southwest Airlines Co.   4.83419689
243        United Air Lines Inc.   4.79166667
244        Skywest Airlines Inc.   4.73755378
245               Virgin America   4.71918187
246         Alaska Airlines Inc.   4.68474404
247        Skywest Airlines Inc.   4.67819149
248       Southwest Airlines Co.   4.62435233
249        Skywest Airlines Inc.   4.59287257
250       Southwest Airlines Co.   4.56756757
251        Skywest Airlines Inc.   4.50232558
252              JetBlue Airways   4.48339483
253 American Eagle Airlines Inc.   4.40797546
254       American Airlines Inc.   4.40381268
255       Frontier Airlines Inc.   4.39037433
256               Virgin America   4.37653157
257        United Air Lines Inc.   4.31791908
258         Delta Air Lines Inc.   4.30955414
259        Skywest Airlines Inc.   4.28111156
260        Skywest Airlines Inc.   4.28000000
261              JetBlue Airways   4.27743902
262         Alaska Airlines Inc.   4.27364017
263              US Airways Inc.   4.25710419
264 American Eagle Airlines Inc.   4.22429907
265        Skywest Airlines Inc.   4.21653543
266        Skywest Airlines Inc.   4.20144462
267       Southwest Airlines Co.   4.19338422
268              US Airways Inc.   4.18926554
269 American Eagle Airlines Inc.   4.16479401
270        United Air Lines Inc.   4.15843023
271         Alaska Airlines Inc.   4.06905917
272        United Air Lines Inc.   4.05724824
273       American Airlines Inc.   4.01304945
274       American Airlines Inc.   4.00000000
275       Southwest Airlines Co.   3.99228928
276        United Air Lines Inc.   3.98019802
277              JetBlue Airways   3.97272727
278        United Air Lines Inc.   3.93540373
279 American Eagle Airlines Inc.   3.90444444
280              US Airways Inc.   3.87311412
281         Delta Air Lines Inc.   3.86330935
282         Alaska Airlines Inc.   3.84089219
283              JetBlue Airways   3.83140878
284        Skywest Airlines Inc.   3.78516129
285       American Airlines Inc.   3.74437086
286       American Airlines Inc.   3.71980676
287       Southwest Airlines Co.   3.70397644
288        United Air Lines Inc.   3.67494357
289              JetBlue Airways   3.63685932
290              JetBlue Airways   3.55555556
291        United Air Lines Inc.   3.50561798
292        United Air Lines Inc.   3.50312650
293       Southwest Airlines Co.   3.44887781
294              JetBlue Airways   3.44215938
295       Southwest Airlines Co.   3.42947311
296         Alaska Airlines Inc.   3.39336918
297              JetBlue Airways   3.39084358
298         Delta Air Lines Inc.   3.37037037
299       American Airlines Inc.   3.33638083
300         Alaska Airlines Inc.   3.33465459
301        United Air Lines Inc.   3.25437202
302         Delta Air Lines Inc.   3.19139466
303         Delta Air Lines Inc.   3.18511066
304        Skywest Airlines Inc.   3.14285714
305        United Air Lines Inc.   3.07750678
306              JetBlue Airways   3.06079027
307        United Air Lines Inc.   3.04687500
308       Southwest Airlines Co.   2.98709059
309       American Airlines Inc.   2.95130774
310         Delta Air Lines Inc.   2.81556257
311        United Air Lines Inc.   2.81337047
312               Virgin America   2.79239766
313              US Airways Inc.   2.63450502
314         Alaska Airlines Inc.   2.61721068
315       Southwest Airlines Co.   2.56325823
316              JetBlue Airways   2.54474097
317       Southwest Airlines Co.   2.47258486
318         Alaska Airlines Inc.   2.43793503
319         Alaska Airlines Inc.   2.33363229
320         Delta Air Lines Inc.   2.22605721
321         Alaska Airlines Inc.   2.15050167
322         Alaska Airlines Inc.   2.11895593
323         Alaska Airlines Inc.   2.09489051
324              US Airways Inc.   2.08390163
325       Southwest Airlines Co.   2.03046127
326         Alaska Airlines Inc.   2.00000000
327               Virgin America   1.90969900
328              JetBlue Airways   1.89887640
329         Alaska Airlines Inc.   1.81453634
330        United Air Lines Inc.   1.77209945
331        Skywest Airlines Inc.   1.61550388
332              US Airways Inc.   1.60000000
333       American Airlines Inc.   1.59571136
334        Skywest Airlines Inc.   1.59359606
335         Alaska Airlines Inc.   1.54707792
336        Skywest Airlines Inc.   1.50000000
337         Delta Air Lines Inc.   1.32208029
338         Delta Air Lines Inc.   1.30921053
339         Delta Air Lines Inc.   1.30696366
340              JetBlue Airways   1.30357143
341         Alaska Airlines Inc.   1.25319343
342 American Eagle Airlines Inc.   1.20952381
343              US Airways Inc.   1.20000000
344       American Airlines Inc.   1.17744610
345              US Airways Inc.   0.96882952
346         Alaska Airlines Inc.   0.89709763
347       American Airlines Inc.   0.87481061
348       American Airlines Inc.   0.83750000
349               Virgin America   0.74840085
350       Southwest Airlines Co.   0.72493888
351        Skywest Airlines Inc.   0.61000000
352         Alaska Airlines Inc.   0.54060914
353         Alaska Airlines Inc.   0.52994012
354         Delta Air Lines Inc.   0.51720183
355         Alaska Airlines Inc.   0.47682119
356         Delta Air Lines Inc.   0.42105263
357         Alaska Airlines Inc.   0.37775977
358       Hawaiian Airlines Inc.   0.26172466
359         Alaska Airlines Inc.   0.13312303
360         Alaska Airlines Inc.   0.11900192
361               Virgin America   0.07654921
362         Delta Air Lines Inc.   0.06553485
363         Delta Air Lines Inc.   0.03790151
364        Skywest Airlines Inc.   0.00000000
365       American Airlines Inc.  -0.09857724
366        United Air Lines Inc.  -0.18918919
367         Delta Air Lines Inc.  -0.22904769
368         Alaska Airlines Inc.  -0.37048193
369       American Airlines Inc.  -0.44116734
370         Alaska Airlines Inc.  -0.46587031
371         Alaska Airlines Inc.  -0.51051051
372              JetBlue Airways  -0.51254480
373         Delta Air Lines Inc.  -0.52972417
374         Delta Air Lines Inc.  -0.70278271
375 American Eagle Airlines Inc.  -0.81756757
376         Delta Air Lines Inc.  -0.93832021
377              JetBlue Airways  -0.96352584
378              JetBlue Airways  -0.98784195
379        United Air Lines Inc.  -1.00000000
380         Alaska Airlines Inc.  -1.00932401
381         Alaska Airlines Inc.  -1.01649953
382         Alaska Airlines Inc.  -1.07975460
383         Alaska Airlines Inc.  -1.08645533
384         Delta Air Lines Inc.  -1.31715006
385         Alaska Airlines Inc.  -1.73117822
386        Skywest Airlines Inc.  -1.76973684
387         Delta Air Lines Inc.  -1.90196078
388         Alaska Airlines Inc.  -1.94367589
389              JetBlue Airways  -2.00000000
390  Atlantic Southeast Airlines  -2.01333333
391         Delta Air Lines Inc.  -2.04166667
392         Alaska Airlines Inc.  -2.05066445
393         Alaska Airlines Inc.  -2.21556886
394         Delta Air Lines Inc.  -2.53164557
395               Virgin America  -2.54716981
396              JetBlue Airways  -2.83471074
397       Frontier Airlines Inc.  -2.84666667
398        United Air Lines Inc.  -2.89473684
399         Delta Air Lines Inc.  -2.90491803
400  Atlantic Southeast Airlines  -3.00000000
401        Skywest Airlines Inc.  -3.10638298
402        Skywest Airlines Inc.  -3.27450980
403        United Air Lines Inc.  -3.33082707
404         Alaska Airlines Inc.  -3.53541417
405               Virgin America  -3.55000000
406         Delta Air Lines Inc.  -3.56643357
407              JetBlue Airways  -3.64516129
408              JetBlue Airways  -3.73654391
409         Delta Air Lines Inc.  -3.77639752
410         Alaska Airlines Inc.  -3.82800609
411        United Air Lines Inc.  -3.89696970
412               Virgin America  -3.93373494
413         Alaska Airlines Inc.  -3.97991968
414         Alaska Airlines Inc.  -4.01449275
415              US Airways Inc.  -4.50000000
416         Alaska Airlines Inc.  -4.52807018
417         Delta Air Lines Inc.  -4.60173913
418         Alaska Airlines Inc.  -4.92469880
419        Skywest Airlines Inc.  -5.00000000
420              JetBlue Airways  -5.29623568
421              US Airways Inc.  -5.40000000
422         Alaska Airlines Inc.  -5.51295337
423 American Eagle Airlines Inc.  -6.00000000
424         Delta Air Lines Inc.  -6.76923077
425               Virgin America  -7.03448276
426         Alaska Airlines Inc.  -7.03791469
427         Alaska Airlines Inc.  -7.93712575
428        United Air Lines Inc.  -8.01075269
429         Delta Air Lines Inc.  -8.25287356
430        Skywest Airlines Inc.  -8.53846154
431         Alaska Airlines Inc.  -8.87169811
432         Delta Air Lines Inc.  -9.00000000
433        United Air Lines Inc. -10.00000000
434         Alaska Airlines Inc. -10.64734300
435         Alaska Airlines Inc. -10.73960217
436  Atlantic Southeast Airlines -12.50000000
437        United Air Lines Inc. -13.00000000
438              US Airways Inc. -13.60000000
439         Delta Air Lines Inc. -14.60000000
440         Alaska Airlines Inc. -14.86885246
441         Alaska Airlines Inc. -15.75000000
442         Delta Air Lines Inc. -16.00000000
443        United Air Lines Inc. -17.00000000
444         Alaska Airlines Inc. -17.38922156
445         Alaska Airlines Inc. -18.69230769
446  Atlantic Southeast Airlines -19.00000000
447         Delta Air Lines Inc. -32.00000000
448         Delta Air Lines Inc. -35.00000000</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dbDisconnect</span>(conn)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>